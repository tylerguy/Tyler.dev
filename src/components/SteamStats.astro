---
import { load } from '@astro/types';
import { json } from '@astro/types';
import { ref } from '@astro/types';
import { timestamp } from '@astro/types';

const apiKey = 'YOUR_API_KEY';
const steamId = 'STEAM_USER_ID';

const { response: { games } } = await load(`https://api.steampowered.com/IPlayerService/GetOwnedGames/v1/?key=${apiKey}&steamid=${steamId}&format=json`);

let playedGames = ref(games);

---

<table>
  <thead>
    <tr>
      <th>Game Name</th>
      <th>Playtime (minutes)</th>
    </tr>
  </thead>
  <tbody>
    <div>
      {#each playedGames as game (game.appid)}
        <tr>
          <td>{game.name}</td>
          <td>{game.playtime_forever}</td>
        </tr>
      {/each}
    </div>
  </tbody>
</table>
